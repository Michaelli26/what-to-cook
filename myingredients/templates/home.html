{% extends 'base.html' %}

{% block content %}

<head>

  <!-- Css Files-->

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tokenfield/0.12.0/css/bootstrap-tokenfield.min.css">


  <!-- JS Files -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tokenfield/0.12.0/bootstrap-tokenfield.js"></script>


</head>
<main role="main" class="inner cover">

    {% if user.is_authenticated %}
    <h1 class="cover-heading">Welcome {{ user }}. Let's cook!</h1>
        {% else %}
        <h1 class="cover-heading">Let's cook!</h1>
        <h8 class="cover-heading">Sign in to save recipes</h8>
        <br/>
                <br/>

    {% endif %}

      <form action="{% url 'recipes' %}" method="POST">
          {% csrf_token %}

<div class="container">
  <input type="text" class="form-control" name ="ingredients" id="tokenfield" placeholder="Type an ingredient and hit tab or enter (no duplicates)" />
</div>
        <br/>
<!--
          <div class="form-check form-check-inline">
  <input class="form-check-input" type="checkbox" name="restrictions" value="Vegetarian">
  <label class="form-check-label" for="inlineCheckbox1">Vegetarian</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="checkbox" name="restrictions" value="Vegan">
  <label class="form-check-label" for="inlineCheckbox2">Vegan</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="checkbox" name="restrictions" value="Peanuts">
  <label class="form-check-label" for="inlineCheckbox3">Peanut Free</label>
</div>

    <div class="form-check form-check-inline">
  <input class="form-check-input" type="checkbox" name="restrictions" value="Tree Nuts">
  <label class="form-check-label" for="inlineCheckbox1">Tree Nut Free</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="checkbox" name="restrictions" value="Alcohol-free">
  <label class="form-check-label" for="inlineCheckbox2">Alcohol Free</label>
</div>

<div class="form-check form-check-inline">
  <input class="form-check-input" type="checkbox" name="restrictions" value="Sugar-conscious">
  <label class="form-check-label" for="inlineCheckbox3">Low Sugar</label>
</div>
-->


          <input type="submit" class="btn btn-secondary btn-lg"/>
</form>

  </main>



<script type="text/javascript">
$('#tokenfield')


.on('tokenfield:createtoken', function (event) {
    var existingTokens = this.value.split(',');
	$.each(existingTokens, function(index, token) {
		if (token.trim().toLowerCase() === event.attrs.value.trim().toLowerCase()) {
            event.preventDefault();
        }
	});
})

    .tokenfield()
  </script>



{% endblock %}
